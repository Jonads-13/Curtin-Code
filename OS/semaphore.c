assmue q = 1 (semaphore)

s1 

wait(q);

s2 

signal(post(q))

s3 